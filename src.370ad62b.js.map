{"version":3,"sources":["src/index.js"],"names":["date","document","querySelector","userForm","userName","todoForm","input","todoList","greeting","weather","todoKey","USER_NAME","COORDS","API_KEY","todoSaveList","imgObj","img1","img2","img3","img4","img5","randomBackGround","value","keys","Object","length","Math","random","changeBackgroundImage","getElementById","style","backgroundImage","randomNumber","number","floor","getDate","today","Date","untilHour","getHours","untilMinutes","getMinutes","untilSeconds","getSeconds","innerText","saveToDoList","localStorage","setItem","JSON","stringify","delTodoList","event","nodeTarget","li","target","parentNode","removeChild","clean","filter","id","writeToDoList","createElement","delBtn","span","addEventListener","appendChild","todoObj","text","push","handleSubmit","preventDefault","getLocalStorageItem","localItem","getItem","parse","forEach","resetUserName","remove","classList","add","clear","paintUserName","getUserName","button","className","after","userText","getWeather","lat","lng","fetch","then","json","temperatur","main","temp","saveCoords","coordsObj","handleGeoSucces","position","latitude","coords","longitude","console","log","handleGeoError","askForCoords","navigator","geolocation","getCurrentPosition","loadCoords","loadedCoords","parseCoords","init","setInterval"],"mappings":"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","file":"src.370ad62b.js","sourceRoot":"..","sourcesContent":["import \"./styles.css\";\n\nconst date = document.querySelector(\".date\");\nconst userForm = document.querySelector(\".userForm\");\nconst userName = userForm.querySelector(\".userName\");\nconst todoForm = document.querySelector(\".todoForm\");\nconst input = todoForm.querySelector(\".todoName\");\nconst todoList = document.querySelector(\".todoList\");\nconst greeting = document.querySelector(\".greetingUser\");\nconst weather = document.querySelector(\".weather\");\n\nconst todoKey = \"TODO_LIST\";\nconst USER_NAME = \"users\";\nconst COORDS = \"coords\";\nconst API_KEY = \"d0b507ffc26b0ba87bc5af7c9d1fb0e5\";\nlet todoSaveList = [];\n\nconst imgObj = {\n  img1:\n    \"https://images.unsplash.com/photo-1516979187457-637abb4f9353?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\n  img2:\n    \"https://images.unsplash.com/photo-1587997573803-5df279e30716?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1763&q=80\",\n  img3:\n    \"https://images.unsplash.com/photo-1586715065342-98d1f6016fd1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1789&q=80\",\n  img4:\n    \"https://images.unsplash.com/photo-1588618670195-620f6dde8368?ixlib=rb-1.2.1&auto=format&fit=crop&w=2090&q=80\",\n  img5:\n    \"https://images.unsplash.com/photo-1526035266069-fc237c5baddd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2167&q=80\"\n};\n\nfunction randomBackGround(value) {\n  let keys = Object.keys(value);\n  return value[keys[(keys.length * Math.random()) << 0]];\n}\n\nfunction changeBackgroundImage() {\n  const app = document.getElementById(\"app\");\n  app.style.backgroundImage = `url(${randomBackGround(imgObj)})`;\n}\n\nfunction randomNumber() {\n  const number = Math.floor(Math.random() * 10000000000);\n  return number;\n}\n\nfunction getDate() {\n  const today = new Date();\n  const hour = today.getHours();\n  const minutes = today.getMinutes();\n  const seconds = today.getSeconds();\n  const untilHour = 24 - hour;\n  const untilMinutes = 60 - minutes;\n  const untilSeconds = 60 - seconds;\n  date.innerText = `${untilHour > 10 ? untilHour : `0${untilMinutes}`}시간 ${\n    untilMinutes > 10 ? untilMinutes : `0${untilHour}`\n  }분 ${untilSeconds > 10 ? untilSeconds : `0${untilSeconds}`}초`;\n}\n\nfunction saveToDoList() {\n  localStorage.setItem(todoKey, JSON.stringify(todoSaveList));\n}\n\nfunction delTodoList(event) {\n  const nodeTarget = event.target;\n  const li = nodeTarget.parentNode;\n  todoList.removeChild(li);\n  const clean = todoSaveList.filter((value) => value.id !== +li.id);\n  todoSaveList = clean;\n  saveToDoList();\n}\n\nfunction writeToDoList(value) {\n  const li = document.createElement(\"li\");\n  const delBtn = document.createElement(\"button\");\n  const span = document.createElement(\"span\");\n  const id = randomNumber();\n  span.innerText = value;\n  delBtn.innerText = \"❌\";\n  delBtn.addEventListener(\"click\", delTodoList);\n  li.id = id;\n  li.appendChild(span);\n  li.appendChild(delBtn);\n  todoList.appendChild(li);\n  const todoObj = {\n    text: value,\n    id\n  };\n  todoSaveList.push(todoObj);\n  saveToDoList();\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const toDoValue = input.value;\n  writeToDoList(toDoValue);\n  input.value = \"\";\n}\n\nfunction getLocalStorageItem() {\n  const localItem = localStorage.getItem(todoKey);\n  if (localItem !== null) {\n    const parsedTodo = JSON.parse(localItem);\n    parsedTodo.forEach((value) => writeToDoList(value.text));\n  }\n}\n\nfunction resetUserName(event) {\n  const button = event.target;\n  button.remove();\n  userForm.classList.add(\"showing\");\n  todoForm.classList.remove(\"showing\");\n  localStorage.clear(USER_NAME);\n  greeting.innerText = \"몇시간이나 남았죠?\";\n}\n\nfunction paintUserName() {\n  const getUserName = localStorage.getItem(USER_NAME);\n  if (getUserName !== null) {\n    userForm.classList.remove(\"showing\");\n    todoForm.classList.add(\"showing\");\n    greeting.innerText = `${getUserName}님, 너무 조급해하지 마세요 ㅎㅎ`;\n    const button = document.createElement(\"button\");\n    button.className = \"rewrite_btn\";\n    button.innerText = `${getUserName}님이 아니신가요?`;\n    button.addEventListener(\"click\", resetUserName);\n    greeting.after(button);\n  }\n}\n\nfunction getUserName(event) {\n  event.preventDefault();\n  const userText = userName.value;\n  localStorage.setItem(USER_NAME, userText);\n  paintUserName();\n}\n\nfunction getWeather(lat, lng) {\n  fetch(\n    `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lng}&appid=${API_KEY}&units=metric`\n  )\n    .then(function (json) {\n      return json.json();\n    })\n    .then(function (json) {\n      const temperatur = json.main.temp;\n      weather.innerText = `오늘의 기온은 ${\n        temperatur > 30 ? `${temperatur}도로 존나 덥습니다.` : temperatur\n      }입니다.`;\n    });\n}\n\nfunction saveCoords(coordsObj) {\n  localStorage.setItem(COORDS, JSON.stringify(coordsObj));\n}\n\nfunction handleGeoSucces(position) {\n  const latitude = position.coords.latitude;\n  const longitude = position.coords.longitude;\n  console.log(latitude);\n  const coordsObj = {\n    latitude,\n    longitude\n  };\n  saveCoords(coordsObj);\n  getWeather(latitude, longitude);\n}\n\nfunction handleGeoError() {\n  console.log(\"I CAN NOT\");\n}\n\nfunction askForCoords() {\n  navigator.geolocation.getCurrentPosition(handleGeoSucces, handleGeoError);\n}\n\nfunction loadCoords() {\n  const loadedCoords = localStorage.getItem(COORDS);\n  if (loadedCoords === null) {\n    askForCoords();\n  } else {\n    const parseCoords = JSON.parse(loadedCoords);\n    getWeather(parseCoords.latitude, parseCoords.longitude);\n  }\n}\n\nfunction init() {\n  setInterval(getDate, 1000);\n  userForm.addEventListener(\"submit\", getUserName);\n  todoForm.addEventListener(\"submit\", handleSubmit);\n  getLocalStorageItem();\n  paintUserName();\n  changeBackgroundImage();\n  loadCoords();\n}\n\ninit();\n"]}